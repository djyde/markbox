<html>

<head>
  <title>Markbox</title>
  <meta charset="UTF-8" />

  <script src="//cdn.bootcss.com/codemirror/5.38.0/codemirror.min.js"></script>
  <script src="//cdn.bootcss.com/codemirror/5.38.0/mode/markdown/markdown.min.js"></script>
  <script src="//cdn.bootcss.com/prism/9000.0.1/prism.min.js"></script>
  <script src="//cdn.bootcss.com/prism/9000.0.1/components/prism-javascript.min.js"></script>
  <script src="//cdn.bootcss.com/prism/9000.0.1/components/prism-jsx.js"></script>
  <script src="//cdn.bootcss.com/prism/1.14.0/components/prism-reason.min.js"></script>

  <link href="//cdn.bootcss.com/bulma/0.7.1/css/bulma.min.css" rel="stylesheet">
  <link href="//cdn.bootcss.com/codemirror/5.38.0/codemirror.min.css" rel="stylesheet">
  <link href="//cdn.bootcss.com/codemirror/5.38.0/theme/elegant.css" rel="stylesheet">
  <link href="//cdn.bootcss.com/prism/9000.0.1/themes/prism.min.css" rel="stylesheet">

  <link rel="stylesheet" href="index.css" />

</head>

<script id="defaultContent" type="text/plain"># Markbox

Parse your code in markdown into CodeSandbox.

[![NPM](https://badgen.net/npm/v/markbox)](https://npm.im/markbox)
[![CircleCI](https://circleci.com/gh/djyde/markbox/tree/master.svg?style=shield)](https://circleci.com/gh/djyde/markbox/tree/master)

> This preview is not real time parsed. After modifying the content, you need to click the `Run` button to preview.

## Usage

```
$ npm i markbox
```

Markbox will parse your markdown using [marked](https://github.com/markedjs/marked) and replace all of codes in markdown with Codesandbox embed iframe.

<!-- ignore -->

```javascript
const markbox = require('markbox')

const markdownContent = `Your markdown content...`

const html = await markbox.parse(markdownContent)
```

## Rules

Depends on your code `languange`, Markbox will transform your codes to different template.

#### Plain JavaScript

`js`, `javascript`

```javascript
document.write('Hello Markbox!')
```

#### JavaScript (React)

`jsx`

Rather than writing full React render code, you can simply just write your React component and use `mount()` to mount it:

```jsx
class Counter extends React.PureComponent {
  render () {
    return (
      <div>Hello world!</div>
    )
  }
}

mount(<Counter />)
```

#### ReasonML

`reason`

```reason
print_endline("Hello Markbox");
```

### others

Other unsupported language code will directly output as a normal code block.

## Advanced Usage

### ignore

You can add a `<!-- ignore -->` above the code to avoid the code being put into CodeSandbox:

<!-- ignore -->

```javascript
console.log('I am not in CodeSandbox Now!')
```

## API

#### parse(content: string, options: Options): Promise

Parse markdown to html string with [marked](https://marked.js.org)

`Options`:

- `embedOptions?: object`: [CodeSandbox embed options](https://codesandbox.io/docs/embedding#embed-options) object
- `fallback?: boolean`: Show code block directly if CodeSandbox generating failed. `false` is by default.
- `useCache?: boolean`: A in-memory cache that cache the sandbox_id in memory. `true` is by default.

# License

MIT License
</script>

<body>
  <div id="toolbar">
    <a class="button" id="run-btn">Run</button>
  </div>
  <div id="app">
    <div id="editor"></div>

    <div id="preview" class="content">
    </div>
  </div>

  <script src="index.ts"></script>

</body>

</html>